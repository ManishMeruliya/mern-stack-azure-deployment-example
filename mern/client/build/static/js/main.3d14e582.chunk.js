(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(6),o=n.n(a),s=n(2),r=(n(11),n(4)),l=n(0);function d(){return Object(l.jsx)("div",{children:Object(l.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(l.jsx)(r.c,{className:"navbar-brand",to:"/",children:Object(l.jsx)("img",{style:{width:"25%"},src:"https://d3cy9zhslanhfa.cloudfront.net/media/3800C044-6298-4575-A05D5C6B7623EE37/4B45D0EC-3482-4759-82DA37D8EA07D229/webimage-8A27671A-8A53-45DC-89D7BF8537F15A0D.png",alt:"MongoDB logo of green leaf and word MongoDB"})}),Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:Object(l.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(r.c,{className:"nav-link",to:"/create",children:"Create Record"})})})})]})})}const j=e=>Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e.record.name}),Object(l.jsx)("td",{children:e.record.position}),Object(l.jsx)("td",{children:e.record.level}),Object(l.jsxs)("td",{children:[Object(l.jsx)(r.b,{className:"btn btn-link",to:"/edit/".concat(e.record._id),children:"Edit"})," |",Object(l.jsx)("button",{className:"btn btn-link",onClick:()=>{e.deleteRecord(e.record._id)},children:"Delete"})]})]});function b(){const[e,t]=Object(c.useState)([]);return Object(c.useEffect)((()=>{!async function(){const e=await fetch("/record/");if(!e.ok){const t="An error occured: ".concat(e.statusText);return void window.alert(t)}const n=await e.json();t(n)}()}),[e.length]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Record List"}),Object(l.jsxs)("table",{className:"table table-striped",style:{marginTop:20},children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Name"}),Object(l.jsx)("th",{children:"Position"}),Object(l.jsx)("th",{children:"Level"}),Object(l.jsx)("th",{children:"Action"})]})}),Object(l.jsx)("tbody",{children:e.map((n=>Object(l.jsx)(j,{record:n,deleteRecord:()=>async function(n){await fetch("/".concat(n),{method:"DELETE"});const c=e.filter((e=>e._id!==n));t(c)}(n._id)},n._id)))})]})]})}function h(){const[e,t]=Object(c.useState)({name:"",position:"",level:"",records:[]}),n=Object(s.g)(),i=Object(s.f)();function a(e){return t((t=>({...t,...e})))}return Object(c.useEffect)((()=>{!async function(){const e=n.id.toString(),c=await fetch("/record/".concat(n.id.toString()));if(!c.ok){const e="An error has occured: ".concat(c.statusText);return void window.alert(e)}const a=await c.json();if(!a)return window.alert("Record with id ".concat(e," not found")),void i("/");t(a)}()}),[n.id,i]),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Update Record"}),Object(l.jsxs)("form",{onSubmit:async function(t){t.preventDefault();const c={name:e.name,position:e.position,level:e.level};await fetch("/update/".concat(n.id),{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}),i("/")},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name: "}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"name",value:e.name,onChange:e=>a({name:e.target.value})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"position",children:"Position: "}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"position",value:e.position,onChange:e=>a({position:e.target.value})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsxs)("div",{className:"form-check form-check-inline",children:[Object(l.jsx)("input",{className:"form-check-input",type:"radio",name:"positionOptions",id:"positionIntern",value:"Intern",checked:"Intern"===e.level,onChange:e=>a({level:e.target.value})}),Object(l.jsx)("label",{htmlFor:"positionIntern",className:"form-check-label",children:"Intern"})]}),Object(l.jsxs)("div",{className:"form-check form-check-inline",children:[Object(l.jsx)("input",{className:"form-check-input",type:"radio",name:"positionOptions",id:"positionJunior",value:"Junior",checked:"Junior"===e.level,onChange:e=>a({level:e.target.value})}),Object(l.jsx)("label",{htmlFor:"positionJunior",className:"form-check-label",children:"Junior"})]}),Object(l.jsxs)("div",{className:"form-check form-check-inline",children:[Object(l.jsx)("input",{className:"form-check-input",type:"radio",name:"positionOptions",id:"positionSenior",value:"Senior",checked:"Senior"===e.level,onChange:e=>a({level:e.target.value})}),Object(l.jsx)("label",{htmlFor:"positionSenior",className:"form-check-label",children:"Senior"})]})]}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"submit",value:"Update Record",className:"btn btn-primary"})})]})]})}function m(){const[e,t]=Object(c.useState)({name:"",position:"",level:""}),n=Object(s.f)();function i(e){return t((t=>({...t,...e})))}return Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Create New Record"}),Object(l.jsxs)("form",{onSubmit:async function(c){c.preventDefault();const i={...e};await fetch("/record/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).catch((e=>{window.alert(e)})),t({name:"",position:"",level:""}),n("/")},children:[Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"name",children:"Name"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"name",value:e.name,onChange:e=>i({name:e.target.value})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsx)("label",{htmlFor:"position",children:"Position"}),Object(l.jsx)("input",{type:"text",className:"form-control",id:"position",value:e.position,onChange:e=>i({position:e.target.value})})]}),Object(l.jsxs)("div",{className:"form-group",children:[Object(l.jsxs)("div",{className:"form-check form-check-inline",children:[Object(l.jsx)("input",{className:"form-check-input",type:"radio",name:"positionOptions",id:"positionIntern",value:"Intern",checked:"Intern"===e.level,onChange:e=>i({level:e.target.value})}),Object(l.jsx)("label",{htmlFor:"positionIntern",className:"form-check-label",children:"Intern"})]}),Object(l.jsxs)("div",{className:"form-check form-check-inline",children:[Object(l.jsx)("input",{className:"form-check-input",type:"radio",name:"positionOptions",id:"positionJunior",value:"Junior",checked:"Junior"===e.level,onChange:e=>i({level:e.target.value})}),Object(l.jsx)("label",{htmlFor:"positionJunior",className:"form-check-label",children:"Junior"})]}),Object(l.jsxs)("div",{className:"form-check form-check-inline",children:[Object(l.jsx)("input",{className:"form-check-input",type:"radio",name:"positionOptions",id:"positionSenior",value:"Senior",checked:"Senior"===e.level,onChange:e=>i({level:e.target.value})}),Object(l.jsx)("label",{htmlFor:"positionSenior",className:"form-check-label",children:"Senior"})]})]}),Object(l.jsx)("div",{className:"form-group",children:Object(l.jsx)("input",{type:"submit",value:"Create person",className:"btn btn-primary"})})]})]})}var p=()=>Object(l.jsxs)("div",{children:[Object(l.jsx)(d,{}),Object(l.jsx)("div",{style:{margin:20},children:Object(l.jsxs)(s.c,{children:[Object(l.jsx)(s.a,{exact:!0,path:"/",element:Object(l.jsx)(b,{})}),Object(l.jsx)(s.a,{path:"/edit/:id",element:Object(l.jsx)(h,{})}),Object(l.jsx)(s.a,{path:"/create",element:Object(l.jsx)(m,{})})]})})]});o.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(r.a,{children:Object(l.jsx)(p,{})})}),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.3d14e582.chunk.js.map